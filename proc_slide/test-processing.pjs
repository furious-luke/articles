
PShape server = loadShape( "server.svg" );
PShape person = loadShape( "person.svg" );
PFont  font   = loadFont( "Futura Koyu.ttf" );

void setup() {
    slide.setup();
    slide.camera.initialise( 800, 600 );  // screen.width, screen.height

    size( 800, 600 );
    strokeWeight( 10 );
    frameRate( 30 );
    smooth();
    shapeMode( CENTER );
    stroke( #585858 );
    fill( #585858 );

    // var tw = new ElasticEaseOut([120, 150]);

    var srv = new slide.Shape( server, 0.3 );
    srv.add_tween( 'scale', 0.9, 1.0, new slide.ElasticEaseOut( 30, 50 ) );
    srv.add_tween( 'scale', 1.0, 2.0, new slide.ElasticEaseOut( 120, 150 ) );
    srv.add_tween( 'x', 0, 0.5, new slide.ElasticEaseOut( 90, 120 ) );
    // srv.add_tween("x", 0.5, -0.5, tw );
    // srv.add_tween("y", 0, -0.5, tw );
    slide.scene.add_child( srv );

    var per = new slide.Shape( person, 0.4, [-0.2, -0.5], 1, [60, 150] );
    per.add_tween( 'scale', 0.1, 1.0, new slide.ElasticEaseOut( 60, 120 ) );
    srv.add_child( per );

    var txt = new slide.Text( 'Hello world!', font, [0, 0.5] );
    txt.add_tween( 'x', -0.5, 0.5, new slide.TweenBack( 0, 30 ) );
    slide.scene.add_child( txt );

    slide.scene.prepare();
}

void draw() {
    slide.scene.update( slide.ticker.i );
    background( #d8d8d8 );
    slide.scene.display();
    slide.ticker.update();
}
